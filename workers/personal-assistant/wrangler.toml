name = "personal-assistant"
main = "dist/index.js"
compatibility_date = "2026-02-18"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "personal-assistant"
database_id = "9cf10366-f49c-4532-89c2-8859e1ed9673"

# KV bindings
[[kv_namespaces]]
binding = "KV_CACHE"
id = "35795036d1084b8284a8c57f4b170618"

[[kv_namespaces]]
binding = "KV_SESSIONS"
id = "a4119f70fe7d42ecb8b8b49569c11e32"

[env.production]
name = "personal-assistant-prod"
vars = { ENVIRONMENT = "production", AGENCY_GATEWAY_URL = "https://telegram.overseerclaw.uk" }
routes = [
  { pattern = "assistant.overseerclaw.uk/*", zone_name = "overseerclaw.uk" }
]

[env.development]
name = "personal-assistant-dev"
vars = { ENVIRONMENT = "development" }

[limits]
cpu_ms = 50000
